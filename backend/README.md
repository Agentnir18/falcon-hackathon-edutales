# Backend for the StoryWise project

The backend for the StoryWise project is a RESTful API built using the Django REST framework. The API provides endpoints for generating stories. The backend connects to the Falcon model to generate stories.

## Access 

The backend is hosted on Render and can be accessed at [https://falcon-hackathon-edutales.onrender.com/](https://falcon-hackathon-edutales.onrender.com/)

## Local Setup

1. Set up a virtual environment and activate it.
```bash
python3 -m venv venv
```

for Windows:
```bash
venv\Scripts\activate
```

for MacOS/Linux:
```bash
source venv/bin/activate
```

2. Install the dependencies.
```bash
pip install -r requirements.txt
```

3. Setting up environment variables.
Create a `.env` file in the root directory and add the following environment variables.
```bash
FAAI71_API_KEY=YOUR_API_KEY
SECRET_KEY = YOUR_SECRET_KEY_FOR_DJANGO
DEBUG = True
ALLOWED_HOSTS = *
```

4. Run the server.
```bash
python manage.py runserver
```

## Endpoints

The API provides the following endpoints:

1. `/api/v1/generate-story/`: Generates a story to explain the given concept.
2. `/api/v1/sitcom-explain/`: uses the characters from the sitcom to explain the concept.

## Prompts for generating stories

We have used the simple prompt of the form
```
Generate a scientific fictional story that explains the following content. The story should have some characters that have dialogue between them. The story must be family-friendly and use simple, everyday words for better understanding.
Don't use cliches or stereotypes. The story should be original and creative.

{content}

{plot}

Critical: The story must not begin with phrases like "Once upon a time" or "In a land far away".
```

- Where {content} is the user input.
  - It can be something like "What is a black hole?" 
- {plot} is the plot of the story which is generated by the model. 
  - It can be something like "Please create a story where two children, Leo and Mia, visit their Uncle Max's lab and learn about the above given content through a series of explanations and experiments. The story should have dialogue between the characters and explain the scientific concepts in a way that is easy to understand".

It was found that using the above simple prompt was much more effective in generating stories to explain concepts, instead of using a more complex prompt like the one shown below.

```
You are an expert in teaching concepts using stories. \n 
Your task is to generate a fictional story that explains the given content. \n

Given content:
{content}

1. The story should have at least two characters that are human.\n
2. The characters must have dialogue between them.\n
3. Use simple, everyday words for better understanding.\n
4. The story should explain all the key points.\n

The response should not contain any terms like "Once upon a time" or "In a land far away".\n

Your response should strictly follow the format below:\n
[
    "story": "Your generated story here"
]

Do not include any additional description in your response. Only provide the required fields in the specified format.\n
Respond strictly in JSON format without any additional description or any markdown formatting.\n
```




## Note
It is important to note that the story generated is a fictional story and may not be scientifically accurate. The story is generated to make the content more engaging and interesting for the reader.